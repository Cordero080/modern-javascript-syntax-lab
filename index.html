<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Modern JavaScript Lab</title>
    <link rel="stylesheet" href="main.css" />
  </head>
  <body>
    <!-- Enhanced Holographic Cursor System -->
    <div class="cursor" id="cursor"></div>
    <div class="gravity-field" id="gravity-field"></div>
    <div class="wormhole" id="wormhole"></div>
    <div class="dimensional-rift" id="dimensional-rift"></div>
    <div class="particles">
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
    </div>

    <div class="container">
      <h1 data-text="Modern JavaScript Syntax Lab">
        Modern JavaScript Syntax Lab
      </h1>
      <p>// Interactive console output awaits</p>
    </div>

    <div class="scroll-indicator">Explore Console</div>

    <!-- QUANTUM CONSTELLATION CURSOR UNIVERSE -->
    <script>
      // QUANTUM CONSTELLATION CURSOR UNIVERSE ENGINE
      class QuantumCursorUniverse {
        constructor() {
          this.cursor = document.getElementById("cursor");
          this.gravityField = document.getElementById("gravity-field");
          this.wormhole = document.getElementById("wormhole");
          this.dimensionalRift = document.getElementById("dimensional-rift");

          this.mouseX = 0;
          this.mouseY = 0;
          this.targetX = 0;
          this.targetY = 0;

          this.particles = [];
          this.energyWaves = [];
          this.maxParticles = 50;
          this.maxEnergyWaves = 6; // Hexagon formation

          this.isMouseMoving = false;
          this.moveTimeout = null;
          this.quantumState = 0;
          this.wormholeActive = false;
          this.dimensionalTear = false;

          this.init();
        }

        init() {
          // Hide default cursor
          document.body.style.cursor = "none";

          this.createParticleSystem();
          this.createEnergyWaves();

          document.addEventListener("mousemove", (e) =>
            this.updateMousePosition(e)
          );
          document.addEventListener("click", () => this.createWormhole());
          document.addEventListener("mousedown", () =>
            this.createDimensionalRift()
          );
          document.addEventListener("mouseup", () =>
            this.closeDimensionalRift()
          );

          this.animate();
        }

        updateMousePosition(e) {
          this.mouseX = e.clientX;
          this.mouseY = e.clientY;

          this.isMouseMoving = true;
          this.cursor.style.opacity = "1";

          clearTimeout(this.moveTimeout);
          this.moveTimeout = setTimeout(() => {
            this.isMouseMoving = false;
          }, 100);

          this.createQuantumParticles();
        }

        createParticleSystem() {
          for (let i = 0; i < this.maxParticles; i++) {
            const particle = document.createElement("div");
            particle.className = "quantum-particle";
            document.body.appendChild(particle);

            this.particles.push({
              element: particle,
              x: Math.random() * window.innerWidth,
              y: Math.random() * window.innerHeight,
              vx: (Math.random() - 0.5) * 1.5,
              vy: (Math.random() - 0.5) * 1.5,
              life: Math.random(),
              maxLife: Math.random() * 4 + 2,
              hue: Math.random() * 360,
              baseSize: 0.8 + Math.random() * 0.4,
            });
          }
        }

        createEnergyWaves() {
          // Create perfect hexagonal symmetry
          for (let i = 0; i < this.maxEnergyWaves; i++) {
            const wave = document.createElement("div");
            wave.className = "energy-wave";
            document.body.appendChild(wave);

            this.energyWaves.push({
              element: wave,
              angle: (360 / this.maxEnergyWaves) * i, // Perfect 60-degree spacing for hexagon
              distance: 50,
              speed: Math.random() * 1.5 + 0.8,
            });
          }
        }

        createQuantumParticles() {
          const particle =
            this.particles[Math.floor(Math.random() * this.particles.length)];
          if (particle) {
            particle.x = this.mouseX + (Math.random() - 0.5) * 100;
            particle.y = this.mouseY + (Math.random() - 0.5) * 100;
            particle.vx = (Math.random() - 0.5) * 8;
            particle.vy = (Math.random() - 0.5) * 8;
            particle.life = particle.maxLife;
            particle.hue = Math.random() * 360;
          }
        }

        createWormhole() {
          this.wormholeActive = true;
          this.wormhole.style.opacity = "1";
          this.wormhole.style.left = this.mouseX - 75 + "px";
          this.wormhole.style.top = this.mouseY - 75 + "px";

          // Suck in nearby particles
          this.particles.forEach((particle) => {
            const dx = this.mouseX - particle.x;
            const dy = this.mouseY - particle.y;
            const distance = Math.sqrt(dx * dx + dy * dy);

            if (distance < 150) {
              particle.vx += dx * 0.1;
              particle.vy += dy * 0.1;
            }
          });

          setTimeout(() => {
            this.wormholeActive = false;
            this.wormhole.style.opacity = "0";
          }, 2000);
        }

        createDimensionalRift() {
          this.dimensionalTear = true;
          this.dimensionalRift.style.opacity = "1";
          this.dimensionalRift.style.left = this.mouseX - 150 + "px";
          this.dimensionalRift.style.top = this.mouseY + "px";
          this.dimensionalRift.style.transform = `rotate(${
            Math.random() * 360
          }deg)`;
        }

        closeDimensionalRift() {
          this.dimensionalTear = false;
          this.dimensionalRift.style.opacity = "0";
        }

        updatePhysics() {
          // Ultra smooth cursor following with refined easing
          this.targetX += (this.mouseX - this.targetX) * 0.15;
          this.targetY += (this.mouseY - this.targetY) * 0.15;

          this.cursor.style.left = this.targetX - 10 + "px";
          this.cursor.style.top = this.targetY - 10 + "px";

          // Smooth gravity field positioning
          this.gravityField.style.left = this.mouseX - 90 + "px";
          this.gravityField.style.top = this.mouseY - 90 + "px";

          // Enhanced quantum particle physics
          this.particles.forEach((particle) => {
            // More refined gravity calculation
            const dx = this.mouseX - particle.x;
            const dy = this.mouseY - particle.y;
            const distance = Math.sqrt(dx * dx + dy * dy);

            if (distance > 0 && distance < 200) {
              const force = Math.min(30 / (distance * 0.5), 0.3);
              particle.vx += (dx / distance) * force * 0.08;
              particle.vy += (dy / distance) * force * 0.08;
            }

            // Enhanced velocity and movement
            particle.x += particle.vx;
            particle.y += particle.vy;

            // Refined friction for smoother movement
            particle.vx *= 0.985;
            particle.vy *= 0.985;

            // Smooth boundary wrapping
            if (particle.x < -10) particle.x = window.innerWidth + 10;
            if (particle.x > window.innerWidth + 10) particle.x = -10;
            if (particle.y < -10) particle.y = window.innerHeight + 10;
            if (particle.y > window.innerHeight + 10) particle.y = -10;

            // Enhanced life cycle with smoother transitions
            particle.life -= 0.008;
            if (particle.life <= 0) {
              particle.life = particle.maxLife;
              particle.x = Math.random() * window.innerWidth;
              particle.y = Math.random() * window.innerHeight;
              particle.vx = (Math.random() - 0.5) * 1;
              particle.vy = (Math.random() - 0.5) * 1;
            }

            // Ultra smooth visual updates with enhanced colors
            particle.element.style.left = particle.x + "px";
            particle.element.style.top = particle.y + "px";
            const hueShift = (particle.hue + this.quantumState * 50) % 360;
            particle.element.style.background = `
              radial-gradient(circle, 
                hsl(${hueShift}, 100%, 80%) 0%, 
                hsl(${(hueShift + 60) % 360}, 100%, 60%) 30%,
                hsl(${(hueShift + 120) % 360}, 80%, 50%) 60%,
                transparent 100%
              )
            `;
            const lifeOpacity = Math.min(particle.life / particle.maxLife, 1);
            particle.element.style.opacity = lifeOpacity * 0.9;
            particle.element.style.transform = `scale(${
              0.8 + lifeOpacity * 0.4
            })`;
          });

          // Enhanced energy wave rotation with smooth transitions
          this.energyWaves.forEach((wave, index) => {
            wave.angle += wave.speed * 0.8;
            const radians = (wave.angle * Math.PI) / 180;
            const dynamicDistance =
              wave.distance + Math.sin(this.quantumState + index) * 10;
            const waveX = this.mouseX + Math.cos(radians) * dynamicDistance;
            const waveY = this.mouseY + Math.sin(radians) * dynamicDistance;

            wave.element.style.left = waveX + "px";
            wave.element.style.top = waveY - 30 + "px";
            wave.element.style.transform = `rotate(${wave.angle}deg) scale(${
              0.8 + Math.sin(this.quantumState * 2) * 0.3
            })`;

            const waveOpacity = this.isMouseMoving ? 0.7 : 0.4;
            wave.element.style.opacity = waveOpacity;

            // Dynamic color shifting
            const hue = (index * 45 + this.quantumState * 30) % 360;
            wave.element.style.background = `
              linear-gradient(180deg, 
                transparent 0%,
                hsl(${hue}, 100%, 70%) 20%,
                hsl(${(hue + 180) % 360}, 100%, 60%) 50%,
                hsl(${hue}, 100%, 70%) 80%,
                transparent 100%
              )
            `;
          });

          // Ultra refined quantum state evolution
          this.quantumState += 0.015;
        }

        animate() {
          this.updatePhysics();
          requestAnimationFrame(() => this.animate());
        }
      }

      // Initialize the Quantum Universe when page loads
      document.addEventListener("DOMContentLoaded", () => {
        new QuantumCursorUniverse();
      });
    </script>

    <!-- Import your modules -->
    <script type="module" src="./importingFile.js"></script>

    <!-- Optionally include app.js exercises -->
    <script type="module" src="./app.js"></script>
  </body>
</html>
